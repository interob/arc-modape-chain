# Development of MODAPE's support for VIIRS and the setup op ARC's Filtered VIIRS dataset

# Script to do full-archive processing and establisihing the Smoothing Grid (SGrid; cut-off: 2025-DOY121)
```
Africa.sh
```

# Exporting the established SGrid:
```
modis_window -d <targetdir> --sgrid --target-srs None --co "TILED=YES" --co "COMPRESS=LZW" --co "PREDICTOR=3" <src>
```

# Generating forward processing script for data reproduction
Also build-in to ARV, the script can be generated by the ProductionScript utility, with the following options:

    -m   mirror: Folder that holds previously downloaded HDFs
    -s   fwd-start: Fist date (YYYYMMDD) for forward processing output, reaching specified
         consolidation stage (see options -c and -f); for example: 20250505
    -e   processing-end: Last date (YYYYMMDD) to include in forward processing,
         reaching the minimum consolidation stage (see option -c); for example: 20250825
    -c   min-consolidation-stage: Minimum consolidation stage (smoothing) to be reached at processing-end; for example: 2
    -f   max-consolidation-stage: Maximum consolidation stage (smoothing) to be applied in production; for example: 5
    -t   modis-tiles: Selection of MODIS tiles to process, comma seperated; for example: h17v08,h17v07,h18v07
    -p   vi-product: VI product such as: M?D13A2 (Terra/Aqua: MOD/MYD13A2) or VNP13A2 (VIIRS)
    -d   dataset-name: Name of the dataset as known in ARV; for example: FVIIRS2_2509
    -v   modis-collection: MODIS collection (a.k.a. version) to pull from; for example 061 for c6.1
    -r   export-region: Arbitrary file name component as given to the exported data; for example BFA for Burkina Faso
    -x   export-extents: Comma-separated: <westing (lon, neg.)>,<southing (lat, neg.),<easting (lon, pos.),<northing (lat, pos.)>;
         for example: "-26.0,-35.0,60.0,38.0" for Africa
    -g   sgrid-path: Path (filename) to import the locally optimized S-grid from; for example: VIIRS_2507_sgrid.tif
    -o   output-file: Path to write the generate bash script to (does so with unix/linux line-ending)

For example, for Lesotho:
ProductionScript -p:VNP13A2 -d:FVIIRS2_2509 -s:20250505 -e:20250825 -c:2 -f:2 -v:002 -t:"h20v12,h20v11" -r:LSO -x:"27.02,-30.66,29.47,-28.57" -g:"/var/storage/FVIIRS2_2507_sgrid.tif" -o:"Z:\arc\development\arc-modape-chain\scripts\FVIIRS2_2507\LSO_FVIIRS2_2507_FWD.sh"
